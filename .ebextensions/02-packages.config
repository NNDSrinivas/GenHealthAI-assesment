packages:
  yum:
    tesseract: []
    tesseract-langpack-eng: []
    poppler-utils: []
    
commands:
  01_install_tesseract:
    command: "yum install -y tesseract tesseract-langpack-eng"
    ignoreErrors: true
  02_verify_tesseract:
    command: "which tesseract || echo 'Tesseract not found'"
    ignoreErrors: true
  03_create_uploads_dir:
    command: "mkdir -p /var/app/current/uploads && chmod 755 /var/app/current/uploads"
    ignoreErrors: true

container_commands:
  01_set_permissions:
    command: "chmod -R 755 /var/app/current/"
  02_install_requirements:
    command: "source /var/app/venv/*/bin/activate && pip install --upgrade pip"
  03_create_log_dir:
    command: "mkdir -p /var/log/genhealth && chmod 755 /var/log/genhealth"